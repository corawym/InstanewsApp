"use strict";$(function(){$("select").selectric(),$("#sections").on("change",function(e){var s=$(e.currentTarget).val();if(""!==s){$(".site-header").addClass("site-header-small"),$(".story-grid").show(),$("body").removeClass("container-vh"),$(".story-list-item").remove(),$(".error-msg").remove(),$(".site-footer").hide(),$(".loader").show();var t="https://api.nytimes.com/svc/topstories/v2/"+s+".json?"+$.param({"api-key":"ca8f3034cfb64fe8acb5a2a193f4c8c3"});$.ajax({url:t,method:"GET"}).done(function(e){var s=[];$.each(e.results,function(e,t){t.multimedia.length>0&&s.length<12&&s.push(t)}),s.length>0?$.each(s,function(e,s){var t="<li class='story-list-item'>\n            <a href='"+s.url+"' target='_blank'>\n            <div class='story-list-bgphoto' style='background-image:url(\""+s.multimedia[4].url+"\")'>\n            <p class='story-list-text'>"+s.abstract+"</p>\n            </div></a></li>";$(".story-list").append(t)}):($("body").addClass("container-vh"),$(".story-list").append('<li class="error-msg"><p>Sorry, no stories are updated.</p></li>'))}).fail(function(e){throw $(".loader").hide(),$("body").addClass("container-vh"),$(".story-list").append('<li class="error-msg"><p>Internal Server Error</p></li>'),$(".site-footer").show(),e}).always(function(){$(".loader").hide(),$(".site-footer").show()})}})});